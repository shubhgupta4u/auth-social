/*! For license information please see index.js.LICENSE */
!function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,n){"use strict";var i,o="object"==typeof Reflect?Reflect:null,f=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}((e.exports=s).EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function a(e,t,n,i){var o,r,s,u,a;return c(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),s=r[t]),void 0===s?(s=r[t]=n,++e._eventsCount):("function"==typeof s?s=r[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),0<(o=l(e))&&s.length>o&&!s.warned&&(s.warned=!0,(u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a))),e}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(i);return o.listener=n,i.wrapFn=o}function h(e,t,n){var i=e._events;if(void 0===i)return[];var o=i[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i,o="error"===e,r=this._events;if(void 0!==r)o=o&&void 0===r.error;else if(!o)return!1;if(o){if(0<t.length&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var u=r[e];if(void 0===u)return!1;if("function"==typeof u)f(u,this,t);else for(var a=u.length,c=v(u,a),n=0;n<a;++n)f(c[n],this,t);return!0},s.prototype.addListener=function(e,t){return a(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return a(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,o,r,s;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,r=n.length-1;0<=r;r--)if(n[r]===t||n[r].listener===t){s=n[r].listener,o=r;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n=this._events;if(void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){for(var i,o=Object.keys(n),r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return 0<this._eventsCount?i(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function i(e){this.provider=e}t.User=i},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(0);i.AUTHCONFIGINITEVENT="onAuthConfigInit";var o=(r.prototype.initialize=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.providers.set(n.id,n.provider),this.lazyLoad=this.lazyLoad||n.lazyLoad}this.isInitialized=!0,this.event.emit(i.AUTHCONFIGINITEVENT,this.providers)},r);function r(e){this.isInitialized=!1,this.event=new n.EventEmitter,this.lazyLoad=!1,this.providers=new Map,this.initialize(e)}i.AuthConfig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.PROVIDERINITEVENT="onProviderInit";var o=(r.prototype.onInitFinished=function(){this.isReady=!0,this.event.emit(t.PROVIDERINITEVENT)},r.prototype.loadScript=function(e,t,n,i,o){var r;void 0===i&&(i=!0),void 0===o&&(o=""),"undefined"==typeof document||document.getElementById(e)||((r=document.createElement("script")).async=i,r.src=t,r.onload=n,document.head.appendChild(r))},r);function r(){this.isReady=!1,this.event=new i.EventEmitter}t.BaseAuthProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.AuthConfig=i.AuthConfig;var o=n(5);t.FacebookLoginProvider=o.FacebookLoginProvider;var r=n(6);t.GoogleLoginProvider=r.GoogleLoginProvider;var s=n(7);t.AuthService=s.AuthService;var u=n(8);t.LoginOption=u.LoginOption;var a=n(1);t.User=a.User},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s,r=n(3),u=n(1),a=(s=r.BaseAuthProvider,o(c,s),c.prototype.initialize=function(){var n=this;return new Promise(function(e,t){n.loadScript(c.PROVIDER_ID,"https://connect.facebook.net/"+n.locale+"/sdk.js",function(){FB.init({appId:n.appId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:n.version}),n.onInitFinished(),e(n)})})},c.prototype.getLoginStatus=function(){return this.isReady?this.checkFBLoginStatus():new Promise(function(e,t){t("No user is currently logged in.")})},c.prototype.checkFBLoginStatus=function(){var r=this;return new Promise(function(n,i){var o=new u.User(c.PROVIDER_ID);FB.getLoginStatus(function(e){var t;console.log(e),"connected"===e.status?(t=e.authResponse,FB.api("/me?fields="+r.fields,function(e){o.id=e.id,o.name=e.name,o.email=e.email,o.photoUrl="https://graph.facebook.com/"+e.id+"/picture?type=normal",o.firstName=e.first_name,o.lastName=e.last_name,o.authToken=t.accessToken,o.facebook=e,n(o)})):i("No user is currently logged in.")})})},c.prototype.signIn=function(e){var i=this;return this.isReady?this.fbLogin(e):new Promise(function(t,n){i.event.on(r.PROVIDERINITEVENT,function(){i.fbLogin(e).then(function(e){t(e)},function(e){n(e)})})})},c.prototype.fbLogin=function(e){var o=this,t=e||this.opt,r=new u.User(c.PROVIDER_ID);return new Promise(function(n,i){FB.login(function(e){var t;console.log(e),e.authResponse?(t=e.authResponse,FB.api("/me?fields="+o.fields,function(e){r.id=e.id,r.name=e.name,r.email=e.email,r.photoUrl="https://graph.facebook.com/"+e.id+"/picture?type=normal",r.firstName=e.first_name,r.lastName=e.last_name,r.authToken=t.accessToken,r.facebook=e,n(r)})):i("User cancelled login or did not fully authorize.")},t)})},c.prototype.signOut=function(){return this.isReady?this.fbLogout():new Promise(function(e,t){t("No user is currently logged in.")})},c.prototype.fbLogout=function(){return new Promise(function(t,n){FB.logout(function(e){console.log(e),t()},function(e){n(e)})})},c.PROVIDER_ID="FACEBOOK",c);function c(e,t,n,i,o){void 0===t&&(t={scope:"email,public_profile"}),void 0===n&&(n="en_US"),void 0===i&&(i="name,email,picture,first_name,last_name"),void 0===o&&(o="v7.0");var r=s.call(this)||this;return r.appId=e,r.opt=t,r.locale=n,r.fields=i,r.version=o,r}t.FacebookLoginProvider=a},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(3),a=n(1),u=(r=s.BaseAuthProvider,o(c,r),c.prototype.initialize=function(){var n=this;return new Promise(function(e,t){n.loadScript(c.PROVIDER_ID,"https://apis.google.com/js/api.js",function(){gapi.load("client:auth2",function(){gapi.client.init({apiKey:n.apiKey,clientId:n.clientId,discoveryDocs:[],scope:n.opt.scope}).then(function(){n.GoogleAuth=gapi.auth2.getAuthInstance(),n.onInitFinished(),e(n)}).catch(function(e){t(e)})})})})},c.prototype.getLoginStatus=function(){return this.isReady?this.checkGoogleLoginStatus():new Promise(function(e,t){t("No user is currently logged in.")})},c.prototype.checkGoogleLoginStatus=function(){var u=this;return new Promise(function(e,t){var n,i,o,r,s=u.GoogleAuth.currentUser.get();s.hasGrantedScopes(u.opt.scope)?(n=new a.User(c.PROVIDER_ID),i=s.getBasicProfile(),o=s.getAuthResponse(!0).access_token,r=s.getAuthResponse(!0).id_token,n.id=i.getId(),n.name=i.getName(),n.email=i.getEmail(),n.photoUrl=i.getImageUrl(),n.firstName=i.getGivenName(),n.lastName=i.getFamilyName(),n.authToken=o,n.idToken=r,e(n)):t("No user is currently logged in.")})},c.prototype.signIn=function(e){var i=this;return this.isReady?this.googleLogin(e):new Promise(function(t,n){i.event.on(s.PROVIDERINITEVENT,function(){i.googleLogin(e).then(function(e){t(e)},function(e){n(e)})})})},c.prototype.googleLogin=function(e){var s=this,n=e||this.opt;return new Promise(function(r,t){(n&&n.offline_access?s.GoogleAuth.grantOfflineAccess(n):s.GoogleAuth.signIn(n)).then(function(e){var t=new a.User(c.PROVIDER_ID),n=s.GoogleAuth.currentUser.get().getBasicProfile(),i=s.GoogleAuth.currentUser.get().getAuthResponse(!0).access_token,o=s.GoogleAuth.currentUser.get().getAuthResponse(!0).id_token;t.id=n.getId(),t.name=n.getName(),t.email=n.getEmail(),t.photoUrl=n.getImageUrl(),t.firstName=n.getGivenName(),t.lastName=n.getFamilyName(),t.authToken=i,t.idToken=o,e&&e.code&&(t.authorizationCode=e.code),r(t)},function(e){t("User cancelled login or did not fully authorize.")}).catch(function(e){t(e)})})},c.prototype.signOut=function(){return this.isReady?this.googleLogout():new Promise(function(e,t){t("No user is currently logged in.")})},c.prototype.googleLogout=function(){var n=this;return new Promise(function(e,t){n.GoogleAuth.signOut().then(function(){e()},function(e){t(e)})})},c.PROVIDER_ID="Google",c);function c(e,t,n){void 0===n&&(n={scope:"https://www.googleapis.com/auth/userinfo.profile"});var i=r.call(this)||this;return i.apiKey=e,i.clientId=t,i.opt=n,i}t.GoogleLoginProvider=u},function(e,u,t){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var i=t(2),o=t(0);u.AUTHSTATECHANGEDEVENT="authStateChanged",u.PROVIDERSTATECHANGEDEVENT="providerStateChanged",u.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",u.ERR_NOT_LOGGED_IN="Not logged in";var n=(r.prototype.initialiseProviders=function(e,t){var n=this;void 0===t&&(t=!1),(this.providers=e).forEach(function(e,t){n._providerIds.push(t)}),t||this.initialize()},r.prototype.initialize=function(){this.initialized=!0,this.providers&&this.providers.forEach(function(e,t){e.initialize().then(function(){})})},r.prototype.signIn=function(i,o){var r=this,s=this;return new Promise(function(t,n){var e;r.providers&&(e=r.providers.get(i))?r.initialized?e.signIn(o).then(function(e){e.provider=i,s._user=e,s.event.emit(u.AUTHSTATECHANGEDEVENT,e),t(e)}).catch(function(e){n(e)}):e.initialize().then(function(e){e.signIn(o).then(function(e){e.provider=i,s._user=e,s.event.emit(u.AUTHSTATECHANGEDEVENT,e),t(e)}).catch(function(e){n(e)})}):n(u.ERR_LOGIN_PROVIDER_NOT_FOUND)})},r.prototype.signOut=function(o){var r=this,s=this;return void 0===o&&(o=!1),this.initialized?new Promise(function(e,t){var n,i;r._user?r.providers?(n=r._user.provider,(i=r.providers.get(n))?i.signOut(o).then(function(){e(),s._user=null,s.event.emit(u.AUTHSTATECHANGEDEVENT,null)}).catch(function(e){t(e)}):t(u.ERR_LOGIN_PROVIDER_NOT_FOUND)):t(u.ERR_LOGIN_PROVIDER_NOT_FOUND):t(u.ERR_NOT_LOGGED_IN)}):new Promise(function(e,t){t(u.ERR_LOGIN_PROVIDER_NOT_FOUND)})},r);function r(t){var n=this;if(this._providerIds=[],!t)throw new Error("Configuration is missing.");this.event=new o.EventEmitter,this._providerIds=[],this._user=null,this.initialized=!1,t.isInitialized?this.initialiseProviders(t.providers,t.lazyLoad):t.event.on(i.AUTHCONFIGINITEVENT,function(e){e&&n.initialiseProviders(e,t.lazyLoad)})}u.AuthService=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function i(){}t.LoginOption=i}]);